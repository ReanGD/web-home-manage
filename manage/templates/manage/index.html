{% extends "manage/_base.html" %}
{% load staticfiles %}
{% block title %}Films{% endblock %}
{% block container %}
<div class="navbar navbar-default" role="navigation">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#" id="index">Manage:</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul id="mainmenu" class="nav navbar-nav">
        <li>
          <a id="tabFilms" ajax="./get/films/", href="#">Films</a>
        </li>
        <li>
          <a id="tabAudioBook" ajax="./get/audiobooks/", href="#">Audiobook</a>
        </li>
      </ul>
    </div>
  </div>
</div>

<div class="jumbotron" id="view">
</div>
{% endblock %}
{% block script %}
<script type="text/javascript" src="{% static 'django_ajax/jquery.ajax.min.js' %}"></script>
<script type="text/javascript">
  function refresh(e, self)
  {
    if (self == undefined)
      self = $(this);
    if (e.preventDefault != undefined)
      e.preventDefault();
    self.tab('show');
    ajaxGet(self.attr('ajax'), function(content){
        $("#view").html(content);
    });
  }

  function to_index(e)
  {
    refresh(e, $('#tabFilms'))
  }

  $('#tabFilms').click(refresh);
  $('#tabAudioBook').click(refresh);
  $('#index').click(to_index);
  $(document).ready(to_index);
</script>
{% endblock %}